document.addEventListener("DOMContentLoaded", function () {
  const radioButtons = document.querySelectorAll('input[type="radio"]');
  radioButtons.forEach(function (radioButton) {
    radioButton.addEventListener("change", updateScore);
  });
});

function updateScore() {
  const properties = [
    "AV",
    "AC",
    "PR",
    "UI",
    "scope",
    "conf",
    "integ",
    "avail",
    "health",
    "sens",
  ];

  const selectedButtons = properties.map((property) => {
    const checkedButton = document.querySelector(
      `input[name="${property}"]:checked`
    );
    return checkedButton ? checkedButton.value : null;
  });

  if (selectedButtons.every((button) => button !== null)) {
    document.getElementById("warning").style.display = "none";
    const score = calculateScore(selectedButtons);
    document.getElementById("score").textContent = score.toFixed(1);
  }
}

function calculateScore(selectedButtons) {
  const numberOfSelectedButtons = selectedButtons.filter(
    (button) => button !== null
  ).length;
  const maxScore = 10;
  return Math.min(numberOfSelectedButtons, maxScore);
}
